
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ask Matt</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#1a1a1a" />
  <link rel="apple-touch-icon" href="Ask-Matt-Logo.png" />
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #1a1a1a;
      color: #f4f4f4;
    }
    .container {
      max-width: 900px;
      margin: auto;
      padding: 2rem;
      text-align: center;
    }
    h1, h2, h3 {
      color: #FFD700;
    }
    .card {
      background: #2a2a2a;
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
    }
    #aiAnswer {
      opacity: 0;
      transition: opacity 0.6s ease;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="Ask-Matt-Logo.png" alt="Ask Matt Logo" style="max-width: 200px;">
    <p style="color: #FFD700; font-style: italic;">Your personal know it all</p>

    <section class="card">
      <h2>Ask Me Anything</h2>
      <form id="questionForm">
        <label for="question">Your Question:</label>
        <textarea id="question" rows="4" style="width:100%; padding:0.5rem;"></textarea>
        <br />
        <button type="submit">Ask Matt</button>
      </form>
    </section>

    <section class="card">
      <h2>Your Answer</h2>
      <div id="aiAnswer" style="margin-top: 1rem; font-style: italic; color: #FFD700; max-width: 700px; padding: 1rem; border: 1px solid #FFD700; border-radius: 8px; background-color: #2a2a2a; margin-left: auto; margin-right: auto;"></div>
    </section>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('questionForm');
      const aiBox = document.getElementById('aiAnswer');

      form.addEventListener('submit', async e => {
        e.preventDefault();
        const question = form.question.value;
        aiBox.innerText = 'Thinking...';
        aiBox.style.opacity = 1;

        const response = await fetch("https://ask-matt-backend.onrender.com/ask-ai", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ question })
        });

        const data = await response.json();
        const answer = data.choices?.[0]?.message?.content || "Sorry, I couldn't find an answer.";

        setTimeout(() => {
          aiBox.innerText = '';
          let i = 0;
          const typeEffect = () => {
            if (i < answer.length) {
              aiBox.innerText += answer.charAt(i);
              i++;
              setTimeout(typeEffect, 20);
            }
          };
          typeEffect();
        }, 500);

        form.reset();
      });
    });
  </script>
</body>
</html>
